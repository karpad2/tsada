import{D as m,b as _,S as h,u as f,d as i,Q as w,I as V,_ as C,r as d,c as y,a as s,i as r,w as p,j as c,t as g,o as D}from"./index-CAnCyNTF.js";const x={data(){return{worker_name_hu:"",worker_name_rs:"",contact:"",u_receiving_hour:"",p_receiving_hour:"",default_img_link:"",file_link:null,img:""}},components:{},mounted(){this.getMD()},methods:{async getMD(){const o=new m(_),e=new h(_);f();let l=await o.listDocuments(i.website_db,i.workers,[w.equal("$id",this.$route.params.id)]);this.worker_name_hu=l.documents[0].worker_name_hu,this.worker_name_rs=l.documents[0].worker_name_rs,this.contact=l.documents[0].contact,this.u_receiving_hour=l.documents[0].u_receiving_hour,this.p_receiving_hour=l.documents[0].p_receiving_hour,l.documents[0].worker_img==null||l.documents[0].worker_img==""?this.img=e.getFileView(i.website_images,i.missing_worker_picture).href:this.img=e.getFileView(i.website_images,l.documents[0].worker_img).toString(),l.documents[0].gallery,console.log(l.documents[0].gallery)},async save(){const o=new m(_);await o.listDocuments(i.website_db,i.workers,[w.equal("$id",this.$route.params.id)]),await o.updateDocument(i.website_db,i.workers,this.$route.params.id,{worker_name_hu:this.worker_name_hu,worker_name_rs:this.worker_name_rs,worker_img:this.worker_img,contact:this.contact,u_receiving_hour:this.u_receiving_hour,p_receiving_hour:this.p_receiving_hour}),this.$notify(this.$t("saved"))},async delete_content(){await new m(_).deleteDocument(i.website_db,i.workers,this.$route.params.id),this.$notify(this.$t("deleted")),this.router.push("/about/workers")},async file_upload(){if(!this.file_link){console.warn("no file");return}console.log("file_upload");const e=await new h(_).createFile(i.website_images,V.unique(),this.file_link);this.default_image=e.$id,this.save(),this.getMD(),this.$notify(this.$t("file_uploaded"))}}},$={class:"relative mb-4 container px-5 mx-auto bg-white"},U={class:"flex flex-wrap -m-4"},B={class:"xl:w-1/5 md:w-1/2 p-4 cursor-pointer"},S={class:"bg-slate-100/30 hover:bg-sky-600/30 dark:bg-slate-300/30 p-6 rounded-lg shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)]"},j=["src"];function q(o,e,l,F,t,a){const v=d("v-btn"),b=d("VBtn"),k=d("v-file-input"),u=d("v-text-field");return D(),y("div",$,[s("div",null,[r(v,{onClick:a.delete_content,class:"m-5"},{default:p(()=>[c(g(o.$t("delete")),1)]),_:1},8,["onClick"]),r(b,{onClick:e[0]||(e[0]=n=>o.$router.go(-1)),class:"m-5"},{default:p(()=>[c(g(o.$t("goback")),1)]),_:1})]),s("div",null,[r(k,{onChange:a.file_upload,modelValue:t.file_link,"onUpdate:modelValue":e[1]||(e[1]=n=>t.file_link=n),accept:"image/*",label:o.$t("fileupload")},null,8,["onChange","modelValue","label"]),c(" "+g(o.$t("preview"))+" ",1),s("div",U,[s("div",B,[s("div",S,[s("img",{class:"h-40 rounded w-full object-cover object-center mb-6 transition duration-300 ease-in-out",src:t.img,alt:"content"},null,8,j)])])]),s("div",null,[r(u,{onChange:a.save,modelValue:t.worker_name_hu,"onUpdate:modelValue":e[2]||(e[2]=n=>t.worker_name_hu=n),counter:100,label:o.$t("worker_name_hu"),"hide-details":""},null,8,["onChange","modelValue","label"])]),s("div",null,[r(u,{onChange:a.save,modelValue:t.worker_name_rs,"onUpdate:modelValue":e[3]||(e[3]=n=>t.worker_name_rs=n),counter:100,label:o.$t("worker_name_rs"),"hide-details":""},null,8,["onChange","modelValue","label"])]),s("div",null,[r(u,{onChange:a.save,modelValue:t.contact,"onUpdate:modelValue":e[4]||(e[4]=n=>t.contact=n),counter:100,label:o.$t("contact"),"hide-details":""},null,8,["onChange","modelValue","label"])]),s("div",null,[r(u,{onChange:a.save,modelValue:t.p_receiving_hour,"onUpdate:modelValue":e[5]||(e[5]=n=>t.p_receiving_hour=n),counter:100,label:o.$t("p_receiving_hour"),"hide-details":""},null,8,["onChange","modelValue","label"])]),s("div",null,[r(u,{onChange:a.save,modelValue:t.u_receiving_hour,"onUpdate:modelValue":e[6]||(e[6]=n=>t.u_receiving_hour=n),counter:100,label:o.$t("u_receiving_hour"),"hide-details":""},null,8,["onChange","modelValue","label"])])])])}const N=C(x,[["render",q]]);export{N as default};
