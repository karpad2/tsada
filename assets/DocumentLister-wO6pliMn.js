import{_ as k,u as h,D as x,b as g,S as v,d as o,Q as r,e as f,j as $,r as p,c as i,a as n,t as D,F as B,f as C,g as y,o as d,k as L,w as b,h as S}from"./index-cR1QKHOt.js";const E={name:"Courses",components:{},onBeforeMount(){},mounted(){this.headers=[{title:this.$t("name"),align:"start",sortable:!1,key:"name"},{title:this.$t("date"),align:"end",key:"upload_date"},{title:this.$t("file_download"),align:"end",key:"_id"}],h(),this.load_documents_base()},data:()=>({documents:[],document_category:{},colDefs:[],loaded:!1,headers:[]}),methods:{async load_documents_base(){h(),this.documents=[{docs:[]}];const s=new x(g);new v(g);let e=localStorage.getItem("lang"),c=await s.listDocuments(o.website_db,o.document_categories_db,[r.equal("$id",this.$route.params.category)]);e=="en"?this.document_category.name=c.documents[0].category_name_en:e=="hu"?this.document_category.name=c.documents[0].category_name_hu:(e=="rs"||e=="sr")&&(this.document_category.name=f(c.documents[0].category_name_rs));let m=await s.listDocuments(o.website_db,o.documents_db),l=[];m.documents.forEach(async _=>{await(await s.listDocuments(o.website_db,o.documents_db,[r.equal("documentCategories",this.$route.params.category),r.orderDesc("upload_date")])).documents.forEach(async a=>{let t={name:"",_id:"",upload_date:""};e=="en"?t.name=a.document_title_en:e=="hu"?t.name=a.document_title_hu:(e=="rs"||e=="sr")&&(t.name=f(a.document_title_rs)),t.upload_date=await $(_.document_date).locale(e).format("LL"),t._id=a.document_id,l.push(t)})}),this.documents.push({docs:l}),console.log(this.documents),setTimeout(()=>{this.loaded=!0},1e3)}}},N={class:"text-gray-600"},V={class:"container px-5 py-20 mx-auto bg-gray-100 backdrop-filter bg-opacity-50"},q={class:"flex flex-wrap w-full mb-20"},F={class:"lg:w-1/3 w-full mb-6 lg:mb-0"},Q={class:"sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900"},j=n("div",{class:"h-1 w-20 bg-sky-500/100 rounded"},null,-1),I={class:"m-auto w-1/2"},M=n("i",{class:"pi pi-file-pdf"},null,-1),T={key:2,class:"text-center"};function z(s,e,c,m,l,_){const u=p("router-link"),a=p("v-data-table");return d(),i("section",N,[n("div",V,[n("div",q,[n("div",F,[n("h1",Q,D(s.document_category.name),1),j])]),s.loaded?(d(!0),i(B,{key:0},C(s.documents,t=>(d(),i("div",I,[y("",!0),t.docs.length!=0?(d(),L(a,{key:1,height:"400",headers:s.headers,items:t.docs,"item-key":"_id"},{"item._id":b(({item:w})=>[S(u,{to:"/document/"+w._id},{default:b(()=>[M]),_:2},1032,["to"])]),_:2},1032,["headers","items"])):(d(),i("div",T))]))),256)):y("",!0)])])}const G=k(E,[["render",z]]);export{G as default};
