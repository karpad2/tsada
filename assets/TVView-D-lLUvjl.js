import{_ as p,D as d,b as u,d as n,Q as _,c as a,a as i,i as w,w as f,T as x,F as g,f as b,t as o,o as c,R as y,k as v,U as S,V as T,W as I}from"./index-CjRmHbu0.js";const k={data(){return{currentTime:"",currentTemperature:null,currentSlide:0,slides:[],newsItems:[],slideBackgrounds:["bg-red-500","bg-blue-500","bg-gradient-to-r from-green-400 to-blue-600","bg-purple-500","bg-gradient-to-r from-yellow-400 to-red-500"]}},methods:{updateTime(){const t=new Date;this.currentTime=t.toLocaleTimeString()},async fetchSlides(){const t=new d(u);try{const s=await t.listDocuments(n.website_db,n.tv_slides,[_.orderAsc("sorrend")]);this.slides=s.documents.map(r=>({title:r.title,text:r.text,order:r.sorrend}))}catch(s){console.error("Error fetching slides:",s)}},async fetchNewsItems(){const t=new d(u);try{const s=await t.listDocuments(n.website_db,n.tv_slides);this.newsItems=s.documents.map(r=>r.news_text)}catch(s){console.error("Error fetching news:",s)}},async fetchTemperature(){const t="your_openweathermap_api_key",s="your_city_name";try{const l=await(await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${s}&units=metric&appid=${t}`)).json();this.currentTemperature=l.main.temp.toFixed(1)}catch(r){console.error("Error fetching temperature:",r)}}},mounted(){this.fetchSlides(),this.fetchNewsItems(),this.updateTime(),setInterval(this.updateTime,1e3),setInterval(()=>{this.slides.length>0&&(this.currentSlide=(this.currentSlide+1)%this.slides.length)},15e3)}},D=t=>(S("data-v-bd4d5079"),t=t(),T(),t),B={class:"relative h-screen w-full overflow-hidden bg-gray-900 text-white"},V={class:"absolute inset-0",ref:"slides"},N={class:"text-6xl font-extrabold mb-8 animate-fade-in-down"},C={class:"text-3xl animate-fade-in-up max-w-4xl"},E={class:"absolute bottom-0 w-full bg-gray-800 text-white flex items-center py-6 px-8"},L=D(()=>i("img",{src:I,alt:"School Logo",class:"h-16 w-auto mr-6 animate-bounce"},null,-1)),F={class:"flex overflow-hidden whitespace-nowrap animate-marquee space-x-12"},j={class:"ml-auto pr-8 text-3xl animate-pulse"},q={class:"absolute bottom-16 right-8 text-4xl font-bold animate-pulse"};function Q(t,s,r,l,e,z){return c(),a("div",B,[i("div",V,[w(x,{name:"fade-slide",mode:"out-in"},{default:f(()=>[e.slides.length>0?(c(),a("div",{key:e.currentSlide,class:y(["absolute inset-0 flex flex-col justify-center items-center text-center px-12",e.slideBackgrounds[e.currentSlide%e.slideBackgrounds.length],"slide-animation"])},[i("h2",N,o(e.slides[e.currentSlide].title),1),i("p",C,o(e.slides[e.currentSlide].text),1)],2)):v("",!0)]),_:1})],512),i("div",E,[L,i("div",F,[(c(!0),a(g,null,b(e.newsItems,(m,h)=>(c(),a("div",{key:h,class:"flex-shrink-0 text-3xl"},o(m),1))),128))]),i("div",j,o(e.currentTemperature?`${e.currentTemperature}Â°C`:"Loading..."),1)]),i("div",q,o(e.currentTime),1)])}const K=p(k,[["render",Q],["__scopeId","data-v-bd4d5079"]]);export{K as default};
