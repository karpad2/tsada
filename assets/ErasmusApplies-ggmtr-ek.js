import{u,D as $,b as _,S as y,d as p,Q as N,_ as B,r,c as f,a as o,t as l,i as n,w as s,h as d,o as m,k as g,j as D}from"./index-QeMuxxm_.js";import{m as k}from"./moment-with-locales-DekJzcAB.js";const L={name:"Workers",components:{},setup(){},mounted(){const e=u();this.admin=e.userLoggedin,this.headers=[{title:this.$t("name"),align:"start",sortable:!1,key:"name",width:"200px"},{title:this.$t("date"),align:"start",key:"date",width:"300px"},{title:this.$t("email"),align:"start",key:"email",width:"300px"},{title:this.$t("phone"),align:"start",key:"phone",width:"300px"},{title:this.$t("class"),align:"start",key:"class",width:"300px"},{title:this.$t("mark_avg"),align:"start",key:"mark",width:"300px"},{title:this.$t("motivation_letter"),align:"start",key:"edit1",width:"300px"},{title:this.$t("other_positive_documents"),align:"start",key:"edit2",width:"300px"},{title:this.$t("delete"),align:"start",key:"edit3",width:"300px"}],this.load_messages_base(),this.colDefs=[{field:"name",headerName:this.$t("name"),sortable:!0,filter:!0},{field:"contact",headerName:this.$t("date"),sortable:!0,filter:!0},{field:"email",headerName:this.$t("email"),sortable:!0,filter:!0},{field:"phone",headerName:this.$t("phone"),sortable:!0,filter:!0},{field:"class",headerName:this.$t("class"),sortable:!0,filter:!0},{field:"mark",headerName:this.$t("mark"),sortable:!0,filter:!0},{field:"edit1",headerName:this.$t("motivation_letter"),sortable:!0,filter:!0},{field:"edit2",headerName:this.$t("other_positive_documents"),sortable:!0,filter:!0}]},data:()=>({workers:[{img:"https://dummyimage.com/720x400",name:"SUBTITLE",role:"First",contact:"Lorem ipsum dolor sit"}],messages:[],colDefs:[],loaded:!1,headers:[],admin:!1}),methods:{async load_messages_base(){const e=u();this.workers=[],this.roles=[];const c=new $(_);new y(_),e.language,await(await c.listDocuments(p.website_db,p.erasmus_applies,[N.orderDesc("$createdAt")])).documents.forEach(async a=>{let t={name:"",class:"",contact:"",email:"",date:"",id:"",phone:"",mark:"",motivation_letter:"",other_document:""};t.id=a.$id,t.date=a.$createdAt,t.name=a.name,t.phone=a.phone,t.email=a.email,t.mark=a.mark,t.class=a.class,t.motivation_letter=a.link_motivation_letter,t.other_document=a.link_other_document,this.messages.push(t)}),console.log(this.messages),this.loaded=!0},rt_time(e){return k.locale("hu"),k(e).format("LLL")}},calculated:{}},S={class:"text-gray-600"},C={class:"container px-5 py-20 mx-auto bg-slate-100/30 dark:bg-slate-300/30"},E={class:"flex flex-wrap w-full mb-20"},V={class:"lg:w-1/3 w-full mb-6 lg:mb-0"},A={class:"sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900 dark:text-white"},T=o("div",{class:"h-1 w-20 bg-sky-500/100 rounded"},null,-1),Q={key:0,class:"m-auto w-full"},j=o("i",{class:"pi pi-envelope text-5xl"},null,-1),F=o("i",{class:"pi pi-envelope text-5xl"},null,-1);function I(e,c,w,a,t,b){const h=r("router-link"),x=r("v-btn"),v=r("v-data-table");return m(),f("section",S,[o("div",C,[o("div",E,[o("div",V,[o("h1",A,l(e.$t("erasmus_applies")),1),T])]),e.loaded?(m(),f("div",Q,[n(v,{height:"400",headers:e.headers,items:e.messages},{"item.date":s(({item:i})=>[g(l(b.rt_time(i.date)),1)]),"item.edit1":s(({item:i})=>[n(h,{to:"/admin/erasmus/docviewer/"+i.motivation_letter},{default:s(()=>[j]),_:2},1032,["to"])]),"item.edit2":s(({item:i})=>[i.other_document!=null?(m(),D(h,{key:0,to:"/admin/erasmus/docviewer/"+i.other_document},{default:s(()=>[F]),_:2},1032,["to"])):d("",!0)]),"item.edit3":s(({item:i})=>[d("",!0),n(x,null,{default:s(()=>[g(l(e.$t("delete")),1)]),_:1})]),bottom:s(()=>[]),_:1},8,["headers","items"])])):d("",!0)])])}const q=B(L,[["render",I]]);export{q as default};
