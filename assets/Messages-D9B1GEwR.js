import{u as r,D as x,b as d,S as k,d as n,Q as $,_ as y,r as m,c,a as s,t as h,i as u,w as o,k as v,o as _,j as N}from"./index-BqpW96q2.js";import{m as g}from"./moment-with-locales-c0hLqdvG.js";const D={name:"Workers",components:{},setup(){},mounted(){const e=r();this.admin=e.userLoggedin,this.headers=[{title:this.$t("name"),align:"start",sortable:!1,key:"name",width:"200px"},{title:this.$t("date"),align:"start",key:"date",width:"300px"},{title:this.$t("email"),align:"start",key:"email",width:"300px"},{title:this.$t("open_message"),align:"start",key:"edit",width:"300px"}],this.load_messages_base(),this.colDefs=[{field:"name",headerName:this.$t("name"),sortable:!0,filter:!0},{field:"contact",headerName:this.$t("date"),sortable:!0,filter:!0},{field:"email",headerName:this.$t("email"),sortable:!0,filter:!0},{field:"edit",headerName:this.$t("open_message"),sortable:!0,filter:!0}]},data:()=>({workers:[{img:"https://dummyimage.com/720x400",name:"SUBTITLE",role:"First",contact:"Lorem ipsum dolor sit"}],messages:[],colDefs:[],loaded:!1,headers:[],admin:!1}),methods:{async load_messages_base(){const e=r();this.workers=[],this.roles=[];const l=new x(d);new k(d),e.language,await(await l.listDocuments(n.website_db,n.mess_coll,[$.orderDesc("$createdAt")])).documents.forEach(async a=>{let t={name:"",contact:"",email:"",date:"",id:""};t.id=a.$id,t.date=a.$createdAt,t.name=a.name,t.email=a.email,this.messages.push(t)}),console.log(this.messages),this.loaded=!0},rt_time(e){return g.locale("hu"),g(e).format("LLL")}},calculated:{}},L={class:"text-gray-600"},S={class:"container px-5 py-20 mx-auto bg-slate-100/30 dark:bg-slate-300/30"},B={class:"flex flex-wrap w-full mb-20"},V={class:"lg:w-1/3 w-full mb-6 lg:mb-0"},C={class:"sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900 dark:text-white"},E=s("div",{class:"h-1 w-20 bg-sky-500/100 rounded"},null,-1),T={key:0,class:"m-auto w-full"},A=s("i",{class:"pi pi-envelope text-5xl"},null,-1);function Q(e,l,p,a,t,f){const b=m("router-link"),w=m("v-data-table");return _(),c("section",L,[s("div",S,[s("div",B,[s("div",V,[s("h1",C,h(e.$t("messages")),1),E])]),e.loaded?(_(),c("div",T,[u(w,{height:"400",headers:e.headers,items:e.messages,"items-per-page":-1},{"item.date":o(({item:i})=>[N(h(f.rt_time(i.date)),1)]),"item.edit":o(({item:i})=>[u(b,{to:"/admin/message/"+i.id},{default:o(()=>[A]),_:2},1032,["to"])]),bottom:o(()=>[]),_:1},8,["headers","items"])])):v("",!0)])])}const I=y(D,[["render",Q]]);export{I as default};
