import{_ as x,u as g,D as v,b as f,S as $,d as a,Q as D,e as w,r as N,c as h,a as r,t as b,F as S,f as F,g as k,o as u,h as V,w as p}from"./index-cR1QKHOt.js";const B={name:"Courses",components:{},setup(){},mounted(){g(),this.headers=[{title:this.$t("name"),align:"start",sortable:!1,key:"name"},{title:this.$t("contactus"),align:"start",key:"contact"},{title:this.$t("photo"),align:"start",key:"img",cellRenderer:function(e){return'<img href="'+e.value+'" class="object-cover w-20" />'}}],this.load_workers_base(),this.colDefs=[{field:"name",headerName:this.$t("name"),sortable:!0,filter:!0},{field:"contact",headerName:this.$t("contact"),sortable:!0,filter:!0},{field:"img",headerName:this.$t("image"),cellRenderer:function(e){return'<img href="'+e.value+'" class="object-cover w-20" />'}}]},data:()=>({workers:[{img:"https://dummyimage.com/720x400",name:"SUBTITLE",role:"First",contact:"Lorem ipsum dolor sit"}],roles:[],colDefs:[],loaded:!1,headers:[]}),methods:{async load_workers_base(){g(),this.workers=[],this.roles=[];const e=new v(f),m=new $(f);let t=localStorage.getItem("lang"),_=m.getFileView(a.website_images,a.missing_worker_picture).href;(await e.listDocuments(a.website_db,a.roles_db)).documents.forEach(async i=>{let c=[];console.log(i);let n=await e.listDocuments(a.website_db,a.workers,[D.equal("roles",[i.$id])]),l="";t=="en"?l=i.role_en:t=="hu"?l=i.role_hu:(t=="rs"||t=="sr")&&(l=w(i.role_rs)),n.documents.forEach(s=>{let o={name:"",contact:"",img:""};t=="en"||t=="hu"?(o.name=s.worker_name_hu,o.contact=s.contact):(t=="rs"||t=="sr")&&(o.name=w(s.worker_name_rs),o.contact=s.contact),s.worker_img==""||s.worker_img==null?o.img=_:o.img=m.getFileView(a.website_images,s.worker_img).href,c.push(o)});let d={role:"",workers:[]};d.role=l,d.workers=c,this.roles.push(d)}),console.log(this.roles),this.loaded=!0},onReady(e){console.log("onReady")}}},C={class:"text-gray-600"},E={class:"container px-5 py-20 mx-auto bg-gray-100"},L={class:"flex flex-wrap w-full mb-20"},R={class:"lg:w-1/3 w-full mb-6 lg:mb-0"},j={class:"sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900"},I=r("div",{class:"h-1 w-20 bg-sky-500/100 rounded"},null,-1),Q={class:"sm:text-2xl text-sm font-medium mb-3 text-gray-900"},T=["src"];function q(e,m,t,_,y,i){const c=N("v-data-table");return u(),h("section",C,[r("div",E,[r("div",L,[r("div",R,[r("h1",j,b(e.$t("workers")),1),I])]),e.loaded?(u(!0),h(S,{key:0},F(e.roles,n=>(u(),h("div",{class:"m-auto w-full",key:n.role},[r("h1",Q,b(n.role),1),k("",!0),V(c,{height:"400",headers:e.headers,items:n.workers},{"item.img":p(({item:l})=>[r("img",{src:l.img,class:"object-cover w-20"},null,8,T)]),bottom:p(()=>[]),_:2},1032,["headers","items"])]))),128)):k("",!0)])])}const W=x(B,[["render",q]]);export{W as default};
