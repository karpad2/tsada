import{u as g,g as p,D as h,b as m,S as w,d as l,Q as r,e as b,I as x,_ as y,c as n,a as s,t as d,l as v,k as f,F as k,f as F,o as c,j as $}from"./index-BfJHO_zn.js";const S={name:"Gallery",components:{},mounted(){document.title=this.$t("gallery");const i=g();this.load_courses_base(),this.admin=i.userLoggedin,p.fromTo(".becsuszo_kep",{opacity:0,x:"150%"},{duration:1.5,opacity:1,x:0})},data:()=>({admin:!1,courses:[{img:"https://dummyimage.com/720x400",imga:"",subtitle:"SUBTITLE",title:"First",text:"Lorem ipsum dolor sit"}]}),props:{mode:String},methods:{async load_courses_base(){this.courses=[];const i=new h(m),a=new w(m),_=g();let o=_.language,u;_.userLoggedin?u=await i.listDocuments(l.website_db,l.gallery,[r.select(["title_hu","title_en","title_rs","short_en","short_hu","short_rs","$id","default_image","visible"]),r.limit(25)]):u=await i.listDocuments(l.website_db,l.gallery,[r.equal("visible",!0),r.select(["title_hu","title_en","title_rs","short_en","short_hu","short_rs","$id","default_image","visible"]),r.limit(25)]),u.documents.forEach(e=>{let t={title:"",subtitle:"",text:"",img:"",imga:"",en:"",id:"",visible:!1};t.id=e.$id,t.visible=e.visible,o=="en"?(t.title=e.title_en,t.subtitle=e.short_en):o=="hu"?(t.title=e.title_hu,t.subtitle=e.short_hu):(o=="rs"||o=="sr")&&(t.title=b(e.title_rs),t.subtitle=b(e.short_rs)),e.code==""||e.code==null?t.en=e.title_en:t.en=e.code,t.img=a.getFilePreview(l.gallery_pictures_storage,e.default_image,700,0,"center",90,5,"FFFFFF",15,1,0,"FFFFFF","webp").href,this.courses.push(t)})},isHidden(i){return!i},courseopen(i){let a=i.toLowerCase();a=a.replaceAll(" ",""),this.$router.push("/album/"+a)},async new_stuff(){const a=await new h(m).createDocument(l.website_db,l.gallery,x.unique(),{visible:!1});this.$router.push("/admin/gallery-edit/"+a.$id)}}},D={class:"text-gray-600 body-font p-5 min-h-screen",id:"courses"},L={class:"container px-5 mx-auto"},C={class:"flex flex-wrap w-full mb-20"},j={class:"lg:w-1/2 w-full mb-6 lg:mb-0"},B={class:"sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900 dark:text-white"},T={class:"flex flex-wrap -m-4 grid-cols-3"},E={class:"card-body"},I={class:"text-lg text-gray-900 font-medium title-font mb-4 dark:text-white"},N=["onClick"],V=["src"],q={class:"card-body"},z={class:"tracking-widest text-sky-500 text-s font-medium title-font"},G={key:0},H={class:"text-lg text-gray-900 font-medium title-font mb-4 dark:text-white"},Q=["v-html"];function A(i,a,_,o,u,e){return c(),n("section",D,[s("div",L,[s("div",C,[s("div",j,[s("h1",B,d(i.$t("gallery")),1),a[1]||(a[1]=s("div",{class:"h-1 w-20 bg-sky-500/100 rounded"},null,-1))])]),s("div",T,[i.admin?(c(),n("div",{key:0,onClick:a[0]||(a[0]=(...t)=>e.new_stuff&&e.new_stuff(...t)),style:{"min-width":"273px","min-height":"276px"},class:"card card-compact cursor-pointer glass m-3 w-full sm:w-1/5 md:w-1/5 lg:w-1/5 transition delay-150 bg-slate-100/30 backdrop-filter hover:bg-sky-400/60 dark:bg-slate-300/30 shadow-xl"},[a[2]||(a[2]=s("figure",{class:"h-40"},[s("img",{class:"size-16 m-auto rounded center object-cover object-center mb-6 transition duration-300 ease-in-out",src:v,alt:"content"})],-1)),s("div",E,[s("h2",I,d(i.$t("add_new_content")),1)])])):f("",!0),(c(!0),n(k,null,F(i.courses,t=>(c(),n("div",{onClick:P=>e.courseopen(t.id),class:"card card-compact cursor-pointer glass m-3 w-full sm:w-1/5 md:w-1/5 lg:w-1/5 transition delay-150 bg-slate-100/30 backdrop-filter hover:bg-sky-400/60 dark:bg-slate-300/30 shadow-xl"},[s("figure",null,[s("img",{class:"h-40 rounded w-full object-cover object-center mb-6 transition duration-300 ease-in-out",src:t.img,alt:"content"},null,8,V)]),s("div",q,[s("h3",z,[$(d(t.subtitle)+" ",1),e.isHidden(t.visible)?(c(),n("span",G,d(i.$t("invisible")),1)):f("",!0)]),s("h2",H,d(t.title),1),s("p",{class:"leading-relaxed text-base","v-html":t.text},null,8,Q)])],8,N))),256))])])])}const W=y(S,[["render",A]]);export{W as default};
