import{m as S,p as q,u as d,S as p,b as r,D as v,d as s,I as _,_ as x,r as n,c as f,a as u,i,w as c,O as U,t as b,o as g,j as D}from"./index-BfJHO_zn.js";const F={components:{Swiper:S,SwiperSlide:q},data(){return{erasmus_applied:!1,chtml:"",gallery:[],title:"",img_cnt:3,loaded:!1,author:"Admin",date:"",newsmode:!1,video_id:"",video_link:"",edumode:!1,admin:!1,name:"",email:"",phone:"",which_class:"",born_year:null,file_motivation_letter:null,link_motivation_letter:null,file_positive_document:null,link_positive_document:null,erasmus_apply_on:!1,isFormValid:!1,mark:null,accept_law:!1,items:[]}},mounted(){const t=d();this.erasmus_applied=t.erasmus_apply,this.admin=t.userLoggedin,new p(r),document.title=this.$t("erasmus_apply"),this.getErasmusSettings()},methods:{async submit(){await new v(r).createDocument(s.website_db,s.erasmus_applies,_.unique(),{name:this.name,email:this.email,age:this.born_year,class:this.which_class,phone:this.phone,mark:this.mark_avg,link_motivation_letter:this.link_motivation_letter,link_other_document:this.link_positive_document}),this.$notify(this.$t("apply_saved")),d().setErasmusAppliedSetting(!0),this.erasmus_applied=!0},age(){return new Date().getFullYear()-this.born_year},async upload_positive_document(){if(!this.file_positive_document){console.warn("no file");return}this.$notify(this.$t("file_upload_in_progress")),yapping("file_upload");const e=await new p(r).createFile(s.fs_erasmus,_.unique(),this.file_positive_document);this.link_positive_document=await e.$id,this.$notify(this.$t("file_uploaded"))},async upload_motivation_letter(){if(!this.file_motivation_letter){console.warn("no file");return}this.$notify(this.$t("file_upload_in_progress")),yapping("file_upload");const e=await new p(r).createFile(s.fs_erasmus,_.unique(),this.file_motivation_letter);this.link_motivation_letter=await e.$id,this.$notify(this.$t("file_uploaded"))},async getErasmusSettings(){d();const t=new v(r);let e;e=await t.getDocument(s.website_db,s.general_settings,"erasmus_apply_on"),this.erasmus_apply_on=e.setting_status}},computed:{eg_age(){return new Date().getFullYear()-16}}},E={class:"text-gray-600"},C={class:"container px-5 mx-auto backdrop-filter bg-opacity-50 dark:bg-slate-500/50 bg-gray-100 backdrop-blur-lg",style:{"min-height":"70vh"}},I={class:"lg:w-1/3 w-full mb-6 lg:mb-0"},$={id:"render_title",class:"sm:text-3xl p-3 text-2xl font-medium title-font mb-2 text-gray-100"},A={key:0,class:"pb-2 w-full dark:text-white"},B={key:1,class:"pb-2 w-full dark:text-white text-black text-center"},N={class:"sm:text-3xl p-3 text-2xl font-medium title-font mb-2"};function L(t,e,Y,j,l,m){const y=n("video-background"),a=n("v-text-field"),h=n("v-file-input"),w=n("v-checkbox"),V=n("v-btn"),k=n("v-form");return g(),f("section",E,[u("div",C,[i(y,{src:l.video_link,style:{"min-height":"200px"},class:"flex flex-wrap w-full mb-20 p-2 rounded",overlay:"linear-gradient(45deg,#2a4ae430,#0EA5E950)"},{default:c(()=>[u("div",I,[u("h1",$,b(t.$t("erasmus_apply")),1),e[10]||(e[10]=u("div",{class:"h-1 w-20 bg-sky-500/100 rounded"},null,-1))])]),_:1},8,["src"]),l.erasmus_apply_on&&!l.erasmus_applied?(g(),f("div",A,[i(k,{onSubmit:U(m.submit,["prevent"]),ref:"form",modelValue:l.isFormValid,"onUpdate:modelValue":e[9]||(e[9]=o=>l.isFormValid=o)},{default:c(()=>[i(a,{required:"",modelValue:l.name,"onUpdate:modelValue":e[0]||(e[0]=o=>l.name=o),counter:40,label:t.$t("name")},null,8,["modelValue","label"]),i(a,{required:"",modelValue:l.phone,"onUpdate:modelValue":e[1]||(e[1]=o=>l.phone=o),counter:15,label:t.$t("phone")},null,8,["modelValue","label"]),i(a,{required:"",modelValue:l.email,"onUpdate:modelValue":e[2]||(e[2]=o=>l.email=o),type:"email",label:t.$t("email")},null,8,["modelValue","label"]),i(a,{required:"",modelValue:l.born_year,"onUpdate:modelValue":e[3]||(e[3]=o=>l.born_year=o),type:"number",hint:t.$t("e.g.")+m.eg_age,label:t.$t("born_year")},null,8,["modelValue","hint","label"]),i(a,{required:"",modelValue:t.mark_avg,"onUpdate:modelValue":e[4]||(e[4]=o=>t.mark_avg=o),type:"number",hint:t.$t("e.g.")+" 5.00",label:t.$t("mark_avg")},null,8,["modelValue","hint","label"]),i(a,{required:"",modelValue:l.which_class,"onUpdate:modelValue":e[5]||(e[5]=o=>l.which_class=o),hint:t.$t("e.g.")+" III-3",label:t.$t("class")},null,8,["modelValue","hint","label"]),i(h,{required:"",onChange:m.upload_motivation_letter,modelValue:l.file_motivation_letter,"onUpdate:modelValue":e[6]||(e[6]=o=>l.file_motivation_letter=o),accept:".pdf",label:t.$t("motivation_letter")},null,8,["onChange","modelValue","label"]),i(h,{onChange:m.upload_positive_document,modelValue:l.file_positive_document,"onUpdate:modelValue":e[7]||(e[7]=o=>l.file_positive_document=o),accept:".pdf",label:t.$t("other_positive_documents")},null,8,["onChange","modelValue","label"]),i(w,{required:"",modelValue:l.accept_law,"onUpdate:modelValue":e[8]||(e[8]=o=>l.accept_law=o),label:t.$t("law_for_data_store"),color:"info"},null,8,["modelValue","label"]),i(V,{class:"me-4",type:"submit",disabled:!l.accept_law&&l.isFormValid},{default:c(()=>[D(b(t.$t("apply_for_erasmus")),1)]),_:1},8,["disabled"])]),_:1},8,["onSubmit","modelValue"])])):(g(),f("div",B,[u("h2",N,b(t.$t("applies_are_closed")),1)]))])])}const O=x(F,[["render",L]]);export{O as default};
