import{D as h,b as c,S as k,u as U,d as n,Q as b,e as p,_ as D,r as d,c as x,a as r,i as u,w as v,h as C,o as I,k as _,t as V}from"./index-JMs2ILUT.js";const B={data(){return{year:1,syears:[{id:1,title:"I"},{id:2,title:"II"},{id:3,title:"III"},{id:4,title:"IV"}],sdelegation:[1,2,3,4,5,6,7,8,9],delegation:null,courses:[],course:"",workers:[{id:"a",title:"test"}],masterchief:"",recepient_hour:"",loading:!0,language:"",languages:[{id:"class_hun",title:this.$t("hun_teaching")},{id:"class_srb",title:this.$t("srb_teaching")}]}},components:{},mounted(){this.getMD()},methods:{async getMD(){const s=new h(c);new k(c);const t=U();let a=await s.listDocuments(n.website_db,n.workers,[b.limit(150)]);this.workers=[];for(let i=0;i<a.total;i++){const e=a.documents[i];let l={title:"",id:""};try{l.title=e.worker_name_hu,(t.language=="sr"||t.language=="rs")&&(l.title=p(e.worker_name_rs)),l.id=e.$id,this.workers.push(l)}catch(g){console.log(g)}}this.courses=[],a=await s.listDocuments(n.website_db,n.courselist,[b.limit(150)]);for(let i=0;i<a.total;i++){const e=a.documents[i];let l={title:"",id:""};l.id=e.$id,t.language=="rs"||t.language=="sr"?l.title=p(e.title_rs):t.language=="hu"?l.title=e.title_hu:t.language=="en"&&(l.title=e.title_en),this.courses.push(l)}a=await s.getDocument(n.website_db,n.classlist,this.$route.params.id),console.log(a),this.year=a.year,this.delegation=a.designation;try{this.masterchief=a.workers.$id}catch(i){console.log(i)}try{this.course=a.courses.$id}catch(i){console.log(i)}this.language=a.language,this.recepient_hour=a.receiving_hour,this.loading=!1},async save(){await new h(c).updateDocument(n.website_db,n.classlist,this.$route.params.id,{year:this.year,designation:this.delegation,workers:this.masterchief,language:this.language,receiving_hour:this.recepient_hour,courses:this.course}),this.$notify(this.$t("saved"))},async delete_content(){await new h(c).deleteDocument(n.website_db,n.classlist,this.$route.params.id),this.$notify(this.$t("deleted")),this.router.push("/about/classlist")}}},N={key:0,class:"relative mb-4 container px-5 mx-auto bg-white"};function S(s,t,a,i,e,l){const g=d("v-btn"),f=d("VBtn"),m=d("v-select"),w=d("v-autocomplete"),y=d("v-text-field");return e.loading?C("",!0):(I(),x("div",N,[r("div",null,[u(g,{onClick:l.delete_content,class:"m-5"},{default:v(()=>[_(V(s.$t("delete")),1)]),_:1},8,["onClick"]),u(f,{onClick:t[0]||(t[0]=o=>s.$router.go(-1)),class:"m-5"},{default:v(()=>[_(V(s.$t("goback")),1)]),_:1})]),r("div",null,[r("div",null,[u(m,{items:e.syears,modelValue:e.year,"onUpdate:modelValue":[t[1]||(t[1]=o=>e.year=o),l.save],label:s.$t("year"),"item-value":"id","item-text":"title"},null,8,["items","modelValue","label","onUpdate:modelValue"])]),r("div",null,[u(m,{items:e.sdelegation,modelValue:e.delegation,"onUpdate:modelValue":[t[2]||(t[2]=o=>e.delegation=o),l.save],label:s.$t("class_number")},null,8,["items","modelValue","label","onUpdate:modelValue"])]),r("div",null,[u(w,{items:e.workers,modelValue:e.masterchief,"onUpdate:modelValue":[t[3]||(t[3]=o=>e.masterchief=o),l.save],label:s.$t("masterchief"),"item-value":"id","item-text":"title"},null,8,["items","modelValue","label","onUpdate:modelValue"])]),r("div",null,[u(m,{items:e.courses,modelValue:e.course,"onUpdate:modelValue":[t[4]||(t[4]=o=>e.course=o),l.save],label:s.$t("school_profiles"),"item-value":"id","item-text":"title"},null,8,["items","modelValue","label","onUpdate:modelValue"])]),r("div",null,[u(m,{items:e.languages,modelValue:e.language,"onUpdate:modelValue":[t[5]||(t[5]=o=>e.language=o),l.save],label:s.$t("language"),"item-value":"id","item-text":"title"},null,8,["items","modelValue","label","onUpdate:modelValue"])]),r("div",null,[u(y,{onChange:l.save,modelValue:e.recepient_hour,"onUpdate:modelValue":t[6]||(t[6]=o=>e.recepient_hour=o),counter:100,label:s.$t("receiving_hour"),"hide-details":""},null,8,["onChange","modelValue","label"])])])]))}const M=D(B,[["render",S]]);export{M as default};
