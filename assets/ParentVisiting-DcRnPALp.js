import{L as b,u as h,D as y,b as u,S as w,d as m,Q as g,y as _,e as k,_ as x,r as f,c as p,a as r,t as v,i as $,w as I,h as L,o as c}from"./index-BfJHO_zn.js";const S={name:"PClassList",components:{Loading:b},mounted(){this.headers=[{title:this.$t("name"),align:"start",sortable:!1,key:"chief",width:"200px"},{title:this.$t("class"),align:"start",key:"_class",width:"300px"},{title:this.$t("classroom_chief_receiving_hour"),align:"start",key:"receiving_hour",width:"300px"}],document.title=this.$t("parentsvisiting");const e=h();this.load_courses_base(),this.admin=e.userLoggedin},data:()=>({admin:!1,classes:[],headers:[],loaded:!1}),props:{mode:String},methods:{async load_courses_base(){this.classes=[];const e=new y(u);new w(u);const s=h();let a;a=await e.listDocuments(m.website_db,m.classlist,[g.orderAsc("year"),g.orderAsc("designation")]);let o=s.language;for(let i=0;i<a.total;i++){let t={year:1,designation:"",role:"",chief:"",imga:"",language:"",id:"",receiving_hour:"",_class:""};_(a.documents[i]),t.id=a.documents[i].$id,t.designation=a.documents[i].designation,t.language=a.documents[i].language,t.year=a.documents[i].year,t.receiving_hour=a.documents[i].receiving_hour;let n=null;t._class=this.class_designation(t.year,t.designation);try{n=a.documents[i].workers}catch{}let l=null;try{l=a.documents[i].courses}catch{}try{o=="rs"||o=="sr"?t.chief=k(n.worker_name_rs):(o=="hu"||o=="en")&&(t.chief=n.worker_name_hu)}catch{}this.classes.push(t)}_(this.classes),this.loaded=!0},isHidden(e){return!e},class_designation(e,s){return`${this.roman_number(e)}-${s}`},roman_number(e){let s="Hiba";return e==1?s="I":e==2?s="II":e==3?s="III":e==4&&(s="IV"),s}}},B={class:"text-gray-600 body-font mt-5 mb-5 min-h-screen",id:"courses"},D={key:0,class:"container px-5 mx-auto"},V={class:"flex flex-wrap w-full mb-20"},C={class:"lg:w-1/2 w-full mb-6 lg:mb-0"},A={class:"sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900 dark:text-white"};function H(e,s,a,o,i,t){const n=f("v-data-table"),l=f("Loading");return c(),p("section",B,[e.loaded?(c(),p("div",D,[r("div",V,[r("div",C,[r("h1",A,v(e.$t("parentsvisiting")),1),s[0]||(s[0]=r("div",{class:"h-1 w-20 bg-sky-500/100 rounded"},null,-1))])]),$(n,{height:"400",headers:e.headers,items:e.classes,"items-per-page":-1},{bottom:I(()=>s[1]||(s[1]=[])),_:1},8,["headers","items"])])):(c(),L(l,{key:1}))])}const P=x(S,[["render",H]]);export{P as default};
