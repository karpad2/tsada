import{u as f,D as b,b as _,S as y,d as g,Q as p,e as k,I as x,_ as v,c as r,a as n,t as o,l as $,k as h,F as I,f as C,o as c,j as w}from"./index-BuEX8aWP.js";const D={name:"ClassList",components:{},mounted(){document.title=this.$t("classlist");const e=f();this.load_courses_base(),this.admin=e.userLoggedin},data:()=>({admin:!1,classes:[]}),props:{mode:String},methods:{async load_courses_base(){this.classes=[];const e=new b(_);new y(_);const s=f();let i;i=await e.listDocuments(g.website_db,g.classlist,[p.orderAsc("year"),p.orderAsc("designation")]);let d=s.language;for(let l=0;l<i.total;l++){let t={year:1,designation:"",role:"",chief:"",imga:"",language:"",id:"",receiving_hour:""};console.log(i.documents[l]),t.id=i.documents[l].$id,t.designation=i.documents[l].designation,t.language=i.documents[l].language,t.year=i.documents[l].year,t.receiving_hour=i.documents[l].receiving_hour;let a=null;try{a=i.documents[l].workers}catch(m){console.log(m)}let u=null;try{u=i.documents[l].courses}catch(m){console.log(m)}try{d=="rs"||d=="sr"?(t.role=u.title_rs,t.chief=k(a.worker_name_rs)):d=="hu"?(t.role=u.title_hu,t.chief=a.worker_name_hu):d=="en"&&(t.role=u.title_en,t.chief=a.worker_name_hu)}catch(m){console.log(m)}this.classes.push(t)}console.log(this.classes)},isHidden(e){return!e},classopen(e){this.admin&&this.$router.push("/admin/class-edit/"+e)},async new_stuff(){const s=await new b(_).createDocument(g.website_db,g.classlist,x.unique(),{year:1});this.$router.push("/admin/class-edit/"+s.$id)},roman_number(e){let s="Hiba";return e==1?s="I":e==2?s="II":e==3?s="III":e==4&&(s="IV"),s}}},L={class:"text-gray-600 body-font mt-5 mb-5 min-h-screen",id:"courses"},S={class:"container px-5 mx-auto"},j={class:"flex flex-wrap w-full mb-20"},V={class:"lg:w-1/2 w-full mb-6 lg:mb-0"},B={class:"sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900 dark:text-white"},N={class:"flex flex-wrap -m-4 grid-cols-3"},z={style:{"min-width":"273px","min-height":"276px"},class:"transition delay-150 bg-slate-100/80 backdrop-filter hover:bg-sky-600/60 dark:bg-slate-300/30 p-6 rounded-lg shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)]"},A={class:"text-lg text-gray-900 font-medium title-font mb-4 dark:text-white"},F={class:"card-body"},H={class:"card-title"},Q={key:0},q={key:1},E={key:0,class:"card-actions justify-end"},T=["onClick"];function G(e,s,i,d,l,t){return c(),r("section",L,[n("div",S,[n("div",j,[n("div",V,[n("h1",B,o(e.$t("classlist")),1),s[1]||(s[1]=n("div",{class:"h-1 w-20 bg-sky-500/100 rounded"},null,-1))])]),n("div",N,[e.admin?(c(),r("div",{key:0,onClick:s[0]||(s[0]=(...a)=>t.new_stuff&&t.new_stuff(...a)),class:"xl:w-1/5 md:w-96 sm:w-full p-4 cursor-pointer becsuszo_kep"},[n("div",z,[s[2]||(s[2]=n("img",{class:"size-16 m-auto rounded center object-cover object-center mb-6 transition duration-300 ease-in-out",src:$,alt:"content"},null,-1)),n("h2",A,o(e.$t("add_new_class")),1)])])):h("",!0),(c(!0),r(I,null,C(e.classes,a=>(c(),r("div",{key:a.id,class:"card glass bg-primary text-primary-content w-96 m-2"},[n("div",F,[n("h2",H,o(t.roman_number(a.year))+"-"+o(a.designation)+" "+o(e.$t("class")),1),n("p",null,o(a.role),1),n("p",null,o(e.$t("masterchief"))+": "+o(a.chief),1),n("p",null,[w(o(e.$t("teaching_language"))+": ",1),a.language=="class_hun"?(c(),r("span",Q,o(e.$t("hun_teaching")),1)):h("",!0),s[3]||(s[3]=w()),a.language=="class_srb"?(c(),r("span",q,o(e.$t("srb_teaching")),1)):h("",!0)]),n("p",null,o(e.$t("classroom_chief_receiving_hour"))+": "+o(a.receiving_hour),1),e.admin?(c(),r("div",E,[n("button",{class:"btn",onClick:u=>t.classopen(a.id)},o(e.$t("edit")),9,T)])):h("",!0)])]))),128))])])])}const K=v(D,[["render",G]]);export{K as default};
