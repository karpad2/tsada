import{m as w,p as V,u as y,S as d,b as u,D as k,d as m,I as _,_ as q,r as a,c as U,a as s,i,w as p,K as S,o as F,t as c,k as x}from"./index-D99mcaDz.js";const D={components:{Swiper:w,SwiperSlide:V},data(){return{chtml:"",gallery:[],title:"",img_cnt:3,loaded:!1,author:"Admin",date:"",newsmode:!1,video_id:"",video_link:"",edumode:!1,admin:!1,name:"",email:"",phone:"",which_class:"",born_year:null,file_motivation_letter:null,link_motivation_letter:null,file_positive_document:null,link_positive_document:null,isFormValid:!1,mark:null,accept_law:!1,items:[]}},mounted(){const t=y();this.admin=t.userLoggedin,new d(u),document.title=this.$t("erasmus_apply")},methods:{async submit(){await new k(u).createDocument(m.website_db,m.erasmus_applies,_.unique(),{name:this.name,email:this.email,age:this.born_year,class:this.which_class,phone:this.phone,mark:this.mark_avg,link_motivation_letter:this.link_motivation_letter,link_other_document:this.link_positive_document}),this.$notify(this.$t("apply_saved"))},age(){return new Date().getFullYear()-this.born_year},async upload_positive_document(){if(!this.file_positive_document){console.warn("no file");return}this.$notify(this.$t("file_upload_in_progress")),console.log("file_upload");const e=await new d(u).createFile(m.fs_erasmus,_.unique(),this.file_positive_document);this.link_positive_document=await e.$id,this.$notify(this.$t("file_uploaded"))},async upload_motivation_letter(){if(!this.file_motivation_letter){console.warn("no file");return}this.$notify(this.$t("file_upload_in_progress")),console.log("file_upload");const e=await new d(u).createFile(m.fs_erasmus,_.unique(),this.file_motivation_letter);this.link_motivation_letter=await e.$id,this.$notify(this.$t("file_uploaded"))}},computed:{eg_age(){return new Date().getFullYear()-16}}},C={class:"text-gray-600"},I={class:"container px-5 mx-auto backdrop-filter bg-opacity-50 dark:bg-slate-500/50 bg-gray-100 backdrop-blur-lg",style:{"min-height":"70vh"}},E={class:"lg:w-1/3 w-full mb-6 lg:mb-0"},$={id:"render_title",class:"sm:text-3xl p-3 text-2xl font-medium title-font mb-2 text-gray-100"},A=s("div",{class:"h-1 w-20 bg-sky-500/100 rounded"},null,-1),B={class:"pb-2 w-full dark:text-white"};function N(t,e,L,Y,l,r){const b=a("video-background"),n=a("v-text-field"),f=a("v-file-input"),h=a("v-checkbox"),g=a("v-btn"),v=a("v-form");return F(),U("section",C,[s("div",I,[i(b,{src:l.video_link,style:{"min-height":"200px"},class:"flex flex-wrap w-full mb-20 p-2 rounded",overlay:"linear-gradient(45deg,#2a4ae430,#0EA5E950)"},{default:p(()=>[s("div",E,[s("h1",$,c(t.$t("erasmus_apply")),1),A])]),_:1},8,["src"]),s("div",B,[i(v,{onSubmit:S(r.submit,["prevent"]),ref:"form",modelValue:l.isFormValid,"onUpdate:modelValue":e[9]||(e[9]=o=>l.isFormValid=o)},{default:p(()=>[i(n,{required:"",modelValue:l.name,"onUpdate:modelValue":e[0]||(e[0]=o=>l.name=o),counter:40,label:t.$t("name")},null,8,["modelValue","label"]),i(n,{required:"",modelValue:l.phone,"onUpdate:modelValue":e[1]||(e[1]=o=>l.phone=o),counter:15,label:t.$t("phone")},null,8,["modelValue","label"]),i(n,{required:"",modelValue:l.email,"onUpdate:modelValue":e[2]||(e[2]=o=>l.email=o),type:"email",label:t.$t("email")},null,8,["modelValue","label"]),i(n,{required:"",modelValue:l.born_year,"onUpdate:modelValue":e[3]||(e[3]=o=>l.born_year=o),type:"number",hint:t.$t("e.g.")+r.eg_age,label:t.$t("born_year")},null,8,["modelValue","hint","label"]),i(n,{required:"",modelValue:l.mark,"onUpdate:modelValue":e[4]||(e[4]=o=>l.mark=o),type:"number",hint:t.$t("e.g.")+" 5.00",label:t.$t("mark_avg")},null,8,["modelValue","hint","label"]),i(n,{required:"",modelValue:l.which_class,"onUpdate:modelValue":e[5]||(e[5]=o=>l.which_class=o),hint:t.$t("e.g.")+" III-3",label:t.$t("class")},null,8,["modelValue","hint","label"]),i(f,{required:"",onChange:r.upload_motivation_letter,modelValue:l.file_motivation_letter,"onUpdate:modelValue":e[6]||(e[6]=o=>l.file_motivation_letter=o),accept:".pdf",label:t.$t("motivation_letter")},null,8,["onChange","modelValue","label"]),i(f,{onChange:r.upload_positive_document,modelValue:l.file_positive_document,"onUpdate:modelValue":e[7]||(e[7]=o=>l.file_positive_document=o),accept:".pdf",label:t.$t("other_positive_documents")},null,8,["onChange","modelValue","label"]),i(h,{required:"",modelValue:l.accept_law,"onUpdate:modelValue":e[8]||(e[8]=o=>l.accept_law=o),label:t.$t("law_for_data_store"),color:"info"},null,8,["modelValue","label"]),i(g,{class:"me-4",type:"submit",disabled:!l.accept_law&&l.isFormValid},{default:p(()=>[x(c(t.$t("apply_for_erasmus")),1)]),_:1},8,["disabled"])]),_:1},8,["onSubmit","modelValue"])])])])}const M=q(D,[["render",N]]);export{M as default};
