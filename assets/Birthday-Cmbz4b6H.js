import{D as h,b as y,d as u,Q as m,_ as b,c as l,a as t,t as s,F as g,f as _,k as c,o as n,n as f}from"./index-De4emM0r.js";const p={data(){return{people:[],today:new Date().toISOString().slice(5,10),loading:!0}},computed:{filteredList(){return this.people.filter(e=>e.birthday.slice(5,10)===this.today)}},mounted(){this.selfloading(),setInterval(this.selfloading,36e4)},methods:{async selfloading(){let a=await new h(y).listDocuments(u.birthday_db,u.birthday_coll,[m.endsWith("birthday",this.today)]);try{this.people=await a.documents,this.loading=!1,console.log(a.documents)}catch(i){console.log(i),setTimeout(this.selfloading(),1e4)}},calculateAge(e){const a=parseInt(e.slice(0,4));return new Date().getFullYear()-a}}},x={class:"bg-slate-900 min-h-screen flex justify-center items-center"},w={class:"bg-slate-700 backdrop-blur-sm p-9 rounded-xl shadow-lg w-2/3 md:w-1/2 lg:w-1/3 border-t-8 border-blue-500",style:{"z-index":"4"}},k={class:"text-3xl font-bold mb-7 text-center text-white bg-blue-500 p-3 rounded"},D={key:0,class:"mt-5"},F={class:"text-lg font-semibold text-gray-500"},v={class:"text-gray-500 block"},B={class:"text-gray-600 block mt-1"},L={class:"text-blue-500 font-semibold"},E={key:1,class:"text-center mt-10"},S={class:"text-gray-200"},Y={key:2,class:"flex justify-center items-center mt-10"},j={class:"text-gray-200"};function I(e,a,i,z,d,o){return n(),l("div",x,[t("div",w,[t("main",null,[t("h1",k," 🏫 "+s(e.$t("school_birthday"))+" 🏫 ",1),o.filteredList.length&&!d.loading?(n(),l("ul",D,[(n(!0),l(g,null,_(o.filteredList,r=>(n(),l("li",{class:"birthday-card bg-gradient-to-r from-yellow-200 via-red-100 to-pink-100 p-4 rounded-lg mb-4 fade-in-up flex items-center justify-between",style:f({animationDelay:.2*(o.filteredList.indexOf(r)+1)+"s"})},[t("div",null,[t("span",F,s(r.name),1),t("small",v,s(r.class),1),t("small",B,s(e.$t("born"))+" "+s(r.birthday),1)]),t("span",L,s(o.calculateAge(r.birthday))+" "+s(e.$t("yrs"))+" 🎂",1)],4))),256))])):c("",!0),o.filteredList.length===0&&!d.loading?(n(),l("div",E,[t("span",S,"😞"+s(e.$t("no_one_has_birthday_today")),1)])):c("",!0),d.loading?(n(),l("div",Y,[t("span",j,"⏳ "+s(e.$t("loading"))+"...",1)])):c("",!0)])])])}const M=b(p,[["render",I]]);export{M as default};
