import{u as _,g as w,D as x,b as y,S as $,d as u,Q as b,_ as S,r as L,c as g,a as i,t as k,F as v,f as D,k as B,o as f,i as C,w as E}from"./index-FnhrnB1c.js";import{m as p}from"./moment-with-locales-CyYMMKQW.js";const T={name:"Workers",components:{},setup(){},mounted(){const e=_();this.admin=e.userLoggedin,document.title=this.$t("erasmus_applies_result"),w.fromTo("#render_title",{opacity:0,x:"50%"},{duration:1.5,opacity:1,x:0}),this.load_workers_base(),this.headers=[{title:this.$t("name"),align:"start",sortable:!1,key:"name",width:"200px"},{title:this.$t("class"),align:"start",key:"_class",width:"300px"},{title:this.$t("score"),align:"start",key:"score",width:"300px"}],w.fromTo(".popups",{opacity:0,y:"50%"},{duration:1.5,opacity:1,y:0})},data:()=>({workers:[{img:"https://dummyimage.com/720x400",name:"SUBTITLE",role:"First",contact:"Lorem ipsum dolor sit"}],roles:[],colDefs:[],loaded:!1,headers:[],admin:!1}),methods:{rt_time(e){let s=_().language;return s=="rs"||s=="sr"?p.locale("sr"):s=="hu"?p.locale("hu"):s=="en"&&p.locale("en"),p(e).format("LLL")},async load_workers_base(){const e=_();this.workers=[],this.roles=[];const t=new x(y);new $(y);let s=e.language,h=await t.listDocuments(u.website_db,u.erasmus_location,[b.orderDesc("location_hu")]);for(let n=0;n<h.documents.length;n++){let o=h.documents[n],d=[],l=await t.listDocuments(u.website_db,u.erasmus_applies,[b.equal("erasmusLocation",[o.$id])]),c="";s=="en"||s=="hu"?c=o.location_hu:(s=="rs"||s=="sr")&&(c=o.location_rs),await l.documents.forEach(async r=>{let a={name:"",score:"",_class:""};a.id=r.$id,a.name=r.name,a._class=r.class,a.score=r.score,a.id=r.$id,a.date=r.$createdAt,d.push(a)});let m={role:"",workers:[],id:""};m.id=o.$id,m.role=c,m.workers=d,this.roles.push(m)}console.log(this.roles),this.loaded=!0},onReady(e){console.log("onReady")}}},F={class:"text-gray-600 min-h-screen"},N={class:"container px-5 py-20 mx-auto bg-slate-100/30 dark:bg-slate-300/30"},V={class:"flex flex-wrap w-full mb-20"},Q={class:"w-full mb-6 lg:mb-0"},R={id:"render_title",class:"sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900 dark:text-white"},W={class:"sm:text-2xl text-sm font-medium mb-3 text-gray-900 dark:text-white"};function q(e,t,s,h,n,o){const d=L("v-data-table");return f(),g("section",F,[i("div",N,[i("div",V,[i("div",Q,[i("h1",R,k(e.$t("erasmus_applies_result")),1),t[0]||(t[0]=i("div",{class:"h-1 w-20 bg-sky-500/100 rounded"},null,-1))])]),e.loaded?(f(!0),g(v,{key:0},D(e.roles,l=>(f(),g("div",{class:"m-auto w-full popups",key:l.role},[i("h1",W,k(l.role),1),C(d,{height:"400",headers:e.headers,items:l.workers,"items-per-page":-1},{bottom:E(()=>t[1]||(t[1]=[])),_:2},1032,["headers","items"])]))),128)):B("",!0)])])}const U=S(T,[["render",q]]);export{U as default};
