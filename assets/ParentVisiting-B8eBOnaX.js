import{L as p,u as h,D as b,b as u,S as w,d as g,Q as m,e as y,_ as k,r as _,c as f,a as c,t as x,i as v,w as $,h as I,o as d}from"./index-DzIUhSqS.js";const L={name:"PClassList",components:{Loading:p},mounted(){this.headers=[{title:this.$t("name"),align:"start",sortable:!1,key:"chief",width:"200px"},{title:this.$t("class"),align:"start",key:"_class",width:"300px"},{title:this.$t("classroom_chief_receiving_hour"),align:"start",key:"receiving_hour",width:"300px"}],document.title=this.$t("parentsvisiting");const e=h();this.load_courses_base(),this.admin=e.userLoggedin},data:()=>({admin:!1,classes:[],headers:[],loaded:!1}),props:{mode:String},methods:{async load_courses_base(){this.classes=[];const e=new b(u);new w(u);const o=h();let t;t=await e.listDocuments(g.website_db,g.classlist,[m.orderAsc("year"),m.orderAsc("designation")]);let n=o.language;for(let a=0;a<t.total;a++){let s={year:1,designation:"",role:"",chief:"",imga:"",language:"",id:"",receiving_hour:"",_class:""};console.log(t.documents[a]),s.id=t.documents[a].$id,s.designation=t.documents[a].designation,s.language=t.documents[a].language,s.year=t.documents[a].year,s.receiving_hour=t.documents[a].receiving_hour;let i=null;s._class=this.class_designation(s.year,s.designation);try{i=t.documents[a].workers}catch(r){console.log(r)}let l=null;try{l=t.documents[a].courses}catch(r){console.log(r)}try{n=="rs"||n=="sr"?s.chief=y(i.worker_name_rs):(n=="hu"||n=="en")&&(s.chief=i.worker_name_hu)}catch(r){console.log(r)}this.classes.push(s)}console.log(this.classes),this.loaded=!0},isHidden(e){return!e},class_designation(e,o){return`${this.roman_number(e)}-${o}`},roman_number(e){let o="Hiba";return e==1?o="I":e==2?o="II":e==3?o="III":e==4&&(o="IV"),o}}},S={class:"text-gray-600 body-font mt-5 mb-5 min-h-screen",id:"courses"},B={key:0,class:"container px-5 mx-auto"},D={class:"flex flex-wrap w-full mb-20"},V={class:"lg:w-1/2 w-full mb-6 lg:mb-0"},C={class:"sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900 dark:text-white"},A=c("div",{class:"h-1 w-20 bg-sky-500/100 rounded"},null,-1);function H(e,o,t,n,a,s){const i=_("v-data-table"),l=_("Loading");return d(),f("section",S,[e.loaded?(d(),f("div",B,[c("div",D,[c("div",V,[c("h1",C,x(e.$t("parentsvisiting")),1),A])]),v(i,{height:"400",headers:e.headers,items:e.classes,"items-per-page":-1},{bottom:$(()=>[]),_:1},8,["headers","items"])])):(d(),I(l,{key:1}))])}const P=k(L,[["render",H]]);export{P as default};
