import{m as v,p as w,u as h,S as p,b as r,D as u,d as o,_ as y,r as c,c as V,a as d,i as n,w as g,o as k,t as C}from"./index-D_uuHb3D.js";const S={components:{Swiper:v,SwiperSlide:w},data(){return{chtml:"",gallery:[],title:"",img_cnt:3,loaded:!1,author:"Admin",date:"",newsmode:!1,video_id:"",video_link:"",edumode:!1,admin:!1,name:"",email:"",phone:"",score:"",which_class:"",born_year:null,file_motivation_letter:null,link_motivation_letter:null,file_positive_document:null,link_positive_document:null,erasmus_apply_on:!1,isFormValid:!1,mark:null,accept_law:!1,items:[],locations:[{id:"",title:""}]}},mounted(){const e=h();this.admin=e.userLoggedin,new p(r),this.getLocations(),this.getData(),document.title=this.$t("erasmus_apply"),this.getErasmusSettings()},methods:{async getData(){const e=new u(r);new p(r),h().language;let a=await e.getDocument(o.website_db,o.erasmus_applies,this.$route.params.id);this.name=a.name,this.phone=a.phone,this.email=a.email,this.mark=a.mark,this.score=a.score,this.which_class=a.class,console.log(a),a.erasmusLocation!=null&&(this.location=a.erasmusLocation.$id)},async getLocations(){this.locations=[{id:"",title:"nem megy"}],(await new u(r).listDocuments(o.website_db,o.erasmus_location)).documents.forEach(a=>{this.locations.push({id:a.$id,title:a.location_hu})})},async submit(){this.$notify(this.$t("apply_saved"))},age(){return new Date().getFullYear()-this.born_year},async save(){const e=new u(r);try{const t=await e.updateDocument(o.website_db,o.erasmus_applies,this.$route.params.id,{name:this.name,phone:this.phone,email:this.email,class:this.which_class,erasmusLocation:this.location,score:this.score,mark:this.mark});this.$notify(this.$t("apply_saved")),console.log("Save successful:",t)}catch(t){console.error("Error saving data:",t),this.$notify({type:"error",text:this.$t("error_saving")})}},async getErasmusSettings(){h();const e=new u(r);let t;t=await e.getDocument(o.website_db,o.general_settings,"erasmus_apply_on"),this.erasmus_apply_on=t.setting_status}},computed:{eg_age(){return new Date().getFullYear()-16}}},D={class:"text-gray-600"},x={class:"container px-5 mx-auto backdrop-filter bg-opacity-50 dark:bg-slate-500/50 bg-gray-100 backdrop-blur-lg",style:{"min-height":"70vh"}},E={class:"lg:w-1/3 w-full mb-6 lg:mb-0"},L={id:"render_title",class:"sm:text-3xl p-3 text-2xl font-medium title-font mb-2 text-gray-100"},U=d("div",{class:"h-1 w-20 bg-sky-500/100 rounded"},null,-1),q={class:"pb-2 w-full dark:text-white"};function $(e,t,a,A,s,i){const _=c("video-background"),m=c("v-text-field"),b=c("v-select"),f=c("v-form");return k(),V("section",D,[d("div",x,[n(_,{src:s.video_link,style:{"min-height":"200px"},class:"flex flex-wrap w-full mb-20 p-2 rounded",overlay:"linear-gradient(45deg,#2a4ae430,#0EA5E950)"},{default:g(()=>[d("div",E,[d("h1",L,C(e.$t("erasmus_apply")),1),U])]),_:1},8,["src"]),d("div",q,[n(f,{ref:"form"},{default:g(()=>[n(m,{required:"",modelValue:s.name,"onUpdate:modelValue":t[0]||(t[0]=l=>s.name=l),counter:40,onChange:i.save,label:e.$t("name")},null,8,["modelValue","onChange","label"]),n(m,{required:"",modelValue:s.phone,"onUpdate:modelValue":t[1]||(t[1]=l=>s.phone=l),onChange:i.save,counter:15,label:e.$t("phone")},null,8,["modelValue","onChange","label"]),n(m,{required:"",modelValue:s.email,"onUpdate:modelValue":t[2]||(t[2]=l=>s.email=l),onChange:i.save,type:"email",label:e.$t("email")},null,8,["modelValue","onChange","label"]),n(m,{required:"",onChange:i.save,modelValue:s.which_class,"onUpdate:modelValue":t[3]||(t[3]=l=>s.which_class=l),hint:e.$t("e.g.")+" III-3",label:e.$t("class")},null,8,["onChange","modelValue","hint","label"]),n(b,{items:s.locations,modelValue:e.location,"onUpdate:modelValue":[t[4]||(t[4]=l=>e.location=l),i.save],onChange:i.save,label:e.$t("location"),"item-value":"id","item-text":"title"},null,8,["items","modelValue","onChange","label","onUpdate:modelValue"]),n(m,{required:"",onChange:i.save,modelValue:s.score,"onUpdate:modelValue":t[5]||(t[5]=l=>s.score=l),label:e.$t("score")},null,8,["onChange","modelValue","label"])]),_:1},512)])])])}const F=y(S,[["render",$]]);export{F as default};
