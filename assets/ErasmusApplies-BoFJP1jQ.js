import{u as n,D as x,b as m,S as $,d as h,Q as v,_ as y,r as c,c as u,a as s,t as _,i as p,w as o,h as f,o as r,k as N,j as D}from"./index-D99mcaDz.js";import{m as g}from"./moment-with-locales-DSvlmBU_.js";const L={name:"Workers",components:{},setup(){},mounted(){const t=n();this.admin=t.userLoggedin,this.headers=[{title:this.$t("name"),align:"start",sortable:!1,key:"name",width:"200px"},{title:this.$t("date"),align:"start",key:"date",width:"300px"},{title:this.$t("email"),align:"start",key:"email",width:"300px"},{title:this.$t("phone"),align:"start",key:"phone",width:"300px"},{title:this.$t("class"),align:"start",key:"class",width:"300px"},{title:this.$t("mark_avg"),align:"start",key:"mark",width:"300px"},{title:this.$t("motivation_letter"),align:"start",key:"edit1",width:"300px"},{title:this.$t("other_positive_documents"),align:"start",key:"edit2",width:"300px"}],this.load_messages_base(),this.colDefs=[{field:"name",headerName:this.$t("name"),sortable:!0,filter:!0},{field:"contact",headerName:this.$t("date"),sortable:!0,filter:!0},{field:"email",headerName:this.$t("email"),sortable:!0,filter:!0},{field:"phone",headerName:this.$t("phone"),sortable:!0,filter:!0},{field:"class",headerName:this.$t("class"),sortable:!0,filter:!0},{field:"mark",headerName:this.$t("mark"),sortable:!0,filter:!0},{field:"edit1",headerName:this.$t("motivation_letter"),sortable:!0,filter:!0},{field:"edit2",headerName:this.$t("other_positive_documents"),sortable:!0,filter:!0}]},data:()=>({workers:[{img:"https://dummyimage.com/720x400",name:"SUBTITLE",role:"First",contact:"Lorem ipsum dolor sit"}],messages:[],colDefs:[],loaded:!1,headers:[],admin:!1}),methods:{async load_messages_base(){const t=n();this.workers=[],this.roles=[];const l=new x(m);new $(m),t.language,await(await l.listDocuments(h.website_db,h.erasmus_applies,[v.orderDesc("$createdAt")])).documents.forEach(async a=>{let e={name:"",class:"",contact:"",email:"",date:"",id:"",phone:"",mark:"",motivation_letter:"",other_document:""};e.id=a.$id,e.date=a.$createdAt,e.name=a.name,e.phone=a.phone,e.email=a.email,e.mark=a.mark,e.class=a.class,e.motivation_letter=a.link_motivation_letter,e.other_document=a.link_other_document,this.messages.push(e)}),console.log(this.messages),this.loaded=!0},rt_time(t){return g.locale("hu"),g(t).format("LLL")}},calculated:{}},S={class:"text-gray-600"},B={class:"container px-5 py-20 mx-auto bg-slate-100/30 dark:bg-slate-300/30"},E={class:"flex flex-wrap w-full mb-20"},V={class:"lg:w-1/3 w-full mb-6 lg:mb-0"},A={class:"sm:text-3xl text-2xl font-medium title-font mb-2 text-gray-900 dark:text-white"},C=s("div",{class:"h-1 w-20 bg-sky-500/100 rounded"},null,-1),T={key:0,class:"m-auto w-full"},Q=s("i",{class:"pi pi-envelope text-5xl"},null,-1),j=s("i",{class:"pi pi-envelope text-5xl"},null,-1);function F(t,l,k,a,e,w){const d=c("router-link"),b=c("v-data-table");return r(),u("section",S,[s("div",B,[s("div",E,[s("div",V,[s("h1",A,_(t.$t("erasmus_applies")),1),C])]),t.loaded?(r(),u("div",T,[p(b,{height:"400",headers:t.headers,items:t.messages},{"item.date":o(({item:i})=>[N(_(w.rt_time(i.date)),1)]),"item.edit1":o(({item:i})=>[p(d,{to:"/admin/erasmus/docviewer/"+i.motivation_letter},{default:o(()=>[Q]),_:2},1032,["to"])]),"item.edit2":o(({item:i})=>[i.other_document!=null?(r(),D(d,{key:0,to:"/admin/erasmus/docviewer/"+i.other_document},{default:o(()=>[j]),_:2},1032,["to"])):f("",!0)]),bottom:o(()=>[]),_:1},8,["headers","items"])])):f("",!0)])])}const W=y(L,[["render",F]]);export{W as default};
