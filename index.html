<!DOCTYPE html>
<html lang="sr">
  <head>
    <meta charset="UTF-8">

    <!-- Primary Meta Tags -->
    <title>Tehnička Škola Ada - Moderna stručna škola u Adi</title>
    <meta name="title" content="Tehnička Škola Ada - Moderna stručna škola u Adi">
    <meta name="description" content="Tehnička škola Ada - najveća srednja stručna škola u opštini Ada. Mašinstvo, elektrotehnika, građevinarstvo. Savremena nastava, kvalifikovani kadri, Erasmus+ projekti.">
    <meta name="keywords" content="tehnička škola, Ada, Vojvodina, Srbija, stručno obrazovanje, mašinstvo, elektrotehnika, građevinarstvo, CNC tehniker, mechatronika">
    <meta name="author" content="Tehnička Škola Ada">
    <meta name="robots" content="index, follow">
    <meta name="language" content="Serbian">

    <!-- Viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tsada.edu.rs/">
    <meta property="og:title" content="Tehnička Škola Ada - Moderna stručna škola u Adi">
    <meta property="og:description" content="Tehnička škola Ada - najveća srednja stručna škola u opštini Ada. Mašinstvo, elektrotehnika, građevinarstvo. Savremena nastava, kvalifikovani kadri, Erasmus+ projekti.">
    <meta property="og:image" content="https://tsada.edu.rs/favicon.png">
    <meta property="og:site_name" content="Tehnička Škola Ada">
    <meta property="og:locale" content="sr_RS">
    <meta property="og:locale:alternate" content="hu_HU">
    <meta property="og:locale:alternate" content="en_US">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://tsada.edu.rs/">
    <meta property="twitter:title" content="Tehnička Škola Ada - Moderna stručna škola u Adi">
    <meta property="twitter:description" content="Tehnička škola Ada - najveća srednja stručna škola u opštini Ada. Mašinstvo, elektrotehnika, građevinarstvo.">
    <meta property="twitter:image" content="https://tsada.edu.rs/favicon.png">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://tsada.edu.rs/">

    <!-- Alternate languages -->
    <link rel="alternate" hreflang="sr" href="https://tsada.edu.rs/">
    <link rel="alternate" hreflang="hu" href="https://tsada.edu.rs/?lang=hu">
    <link rel="alternate" hreflang="en" href="https://tsada.edu.rs/?lang=en">
    <link rel="alternate" hreflang="x-default" href="https://tsada.edu.rs/">

    <!-- Favicons -->
    <link rel="icon" href="/favicon.png" sizes="any">
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <meta name="theme-color" content="#0ea5e9">

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">

    <!-- Fonts with display=swap for performance -->
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,400;1,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@6.x/css/materialdesignicons.min.css" rel="stylesheet">

    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "EducationalOrganization",
      "name": "Tehnička Škola Ada",
      "alternateName": "Technical School Ada",
      "url": "https://tsada.edu.rs",
      "logo": "https://tsada.edu.rs/favicon.png",
      "image": "https://tsada.edu.rs/favicon.png",
      "description": "Tehnička škola Ada - najveća srednja stručna škola u opštini Ada. Mašinstvo, elektrotehnika, građevinarstvo.",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Moše Pijade 47",
        "addressLocality": "Ada",
        "postalCode": "24430",
        "addressCountry": "RS"
      },
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+381-24-853-034",
        "contactType": "customer service",
        "availableLanguage": ["Serbian", "Hungarian", "English"]
      },
      "sameAs": [
        "https://facebook.com/tehnicka.skola.ada",
        "https://instagram.com/tsada_official"
      ]
    }
    </script>

    <!--app-head-->
  </head>
  <body>
    <div id="app"><!--app-html--></div>
    <script type="module" src="/src/main.ts"></script>
    <noscript>You need to enable Javascript to run this website.</noscript>
    
    <!-- Error Message for Cache Issues with Countdown -->
    <div id="loadError" style="display: none; background: #ffcccb; padding: 10px; margin: 10px 0; text-align: center;">
      <p>
        It looks like the page didn't load correctly. 
        <button onclick="clearCache()">Clear Cache and Reload Now</button>
      </p>
      <p id="countdown"></p>
    </div>
    
    <script>
      let countdownInterval;
      let countdownTime = 3; // seconds before auto reload

      // Check if SPA loaded within a reasonable time
      window.addEventListener('load', function() {
        setTimeout(function() {
          const essentialElement = document.querySelector('#app');
          if (!essentialElement || essentialElement.innerHTML === '') {
            document.getElementById('loadError').style.display = 'block';
            startCountdown(); // Start countdown to automated repair
          }
        }, 3000); // 5-second timeout, adjust as necessary
      });

      function startCountdown() {
        const countdownElement = document.getElementById('countdown');
        countdownElement.innerText = `The page will automatically attempt to repair in ${countdownTime} seconds.`;

        countdownInterval = setInterval(() => {
          countdownTime--;
          countdownElement.innerText = `The page will automatically attempt to repair in ${countdownTime} seconds.`;

          if (countdownTime <= 0) {
            clearInterval(countdownInterval);
            clearCache(); // Auto clear cache and reload after countdown
          }
        }, 1000); // 1-second countdown interval
      }

      function clearCache() {
        clearInterval(countdownInterval); // Stop the countdown if manual clear happens
        if ('serviceWorker' in navigator) {
          navigator.serviceWorker.getRegistrations().then(function(registrations) {
            for (let registration of registrations) {
              registration.unregister();
            }
            window.location.reload(true); // Reloads page after clearing service worker
          });
        } else {
          window.location.reload(true); // Fallback for hard reload
        }
      }
    </script>
  </body>
</html>
